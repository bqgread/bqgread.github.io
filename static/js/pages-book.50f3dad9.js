(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-book"],{3877:function(t,e,a){"use strict";a.r(e);var n=a("d6c2"),i=a("c33d");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("f8bf");var s,r=a("f0c5"),u=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"9edd5866",null,!1,n["a"],s);e["default"]=u.exports},"51f1":function(t,e,a){"use strict";var n=a("4ea4");a("c975"),a("ac1f"),a("466d"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("ade3"));a("96cf");var o=n(a("1da1")),s=n(a("c086")),r=n(a("e143")),u=(0,i.default)({name:"book",data:function(){return{isjumpread:!1,backgroundcolor:this.backgroundcolor,fontsize:this.fontsize,textcolor:this.textcolor,reach_bottom_autoload:this.reach_bottom_autoload,jumpappid:"",showmenubtn:!1,url:"",drive:"",menu:"",menutitle:"",chapters:[],nextcontents:[],next:[],logs:[],state:1,show_tips_next:this.show_tips_next,show_tips_next_box:0,load_url:"",theme:"",title:"",adshow:!0,interstitialAd:null,videoAd:null,rewardAdIsLoad:!1,screen_adlm:5,screen_adlt:10,uid:this.uid,adclicked:0,taskid:0,interNum:0,setInter:null,advert_txt:this.advert_txt,isIpx:this.isIpx}},methods:{gotoAdvert:function(){"jumpapp"==r.default.prototype.advert_type&&""!=r.default.prototype.advert_appid&&""!=r.default.prototype.advert_path?uni.navigateToMiniProgram({appId:r.default.prototype.advert_appid,path:r.default.prototype.advert_path,extraData:{from:"bookadvertappid"}}):"link"==r.default.prototype.advert_type&&""!=r.default.prototype.advert_path&&uni.navigateTo({url:r.default.prototype.advert_path})},gotoMenu:function(t){var e=t.currentTarget.dataset.url,a=e.match(/url=([^&]*)/i)[1];a&&(e=e.replace(a,encodeURIComponent(a))),uni.redirectTo({url:e})},showMenu:function(){var t=getCurrentPages(),e=t.length>1?t.length-2:0,a=t[e].$page.fullPath;-1==a.indexOf("pages/catalog")&&(this.showmenubtn=!0),console.log(t,e,a)},jumpRead:function(){var t=getCurrentPages(),e=t.length>1?t.length-1:0,a=t[e].$page.fullPath;console.log("wxto",a),""!=r.default.prototype.jumpappid?uni.navigateToMiniProgram({appId:r.default.prototype.jumpappid,path:a,extraData:{from:"jumpappid"}}):""!=this.jumpappid?uni.navigateToMiniProgram({appId:this.jumpappid,path:a,extraData:{from:"articletempjumpappid"}}):""!=r.default.prototype.bookjumpappid?uni.navigateToMiniProgram({appId:r.default.prototype.bookjumpappid,path:a,extraData:{from:"bookjumpappid"}}):""!=r.default.prototype.jumpwebpage?uni.setClipboardData({data:r.default.prototype.jumpwebpage+a,success:function(){uni.hideToast(),uni.showModal({title:"提示",content:r.default.prototype.jumpwebtips,showCancel:!1})}}):this.isjumpread=!1},showTipsNext:function(){this.show_tips_next_box=!0},hideTipsBox:function(){this.show_tips_next_box=!1},showReward:function(){var t=this;t.reach_bottom_autoload=!0,t.rewardAdIsLoad=!1,t.loadnext()},initReward:function(){},loadscreen:function(){this.reach_bottom_autoload||(this.screen_adlm++,this.screen_adlm==this.screen_adlt&&(this.screen_adlm=0))},loadmore:function(){this.loadnext(),this.force_reward||(this.show_tips_next=0),this.show_tips_next_box=0},loadnext:function(){this.state=1;var t=this;t.next&&void 0!=t.next.url&&""!=t.next.url?(t.fetch(t.next.url,t.drive),t.next=[]):(this.state=2,uni.showToast({title:"没有更多了",icon:"none"}))},loadprevious:function(){this.state=1;var t=this;t.previous&&""!=t.previous.url?(t.fetch(t.previous.url,t.drive),t.previous=[]):uni.showToast({title:"没有更前了",icon:"none"})},reloaddata:function(){this.load_url?(this.state=1,this.fetch(this.load_url,this.drive)):this.state=2},setcp:function(t){var e=t.currentTarget.dataset.val;uni.showModal({title:"转码声明",content:"本内容通过实时转码技术为您呈现，版权及相关连带归源站所有！来源网站地址:"+e,showCancel:!1})},fetch:function(t,e){var a=this;return(0,o.default)(regeneratorRuntime.mark((function n(){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=a,i.load_url=t,n.prev=2,n.next=5,s.default.GetInfo(t,e);case 5:if(o=n.sent,o.jumpappid&&(a.jumpappid=o.jumpappid,a.isjumpread=!0),!o.contents.length){n.next=18;break}if(i.chapters.push(o),i.next=o.next,i.state=0,!o.title){n.next=16;break}return n.next=14,s.default.NewLog(o.title,"/pages/book?drive="+i.drive+"&url="+t);case 14:i.menu&&i.menutitle&&s.default.NewInfoLogs(i.menu,i.menutitle,o.title,"/pages/book?drive="+i.drive+"&url="+t),i.loadscreen();case 16:n.next=19;break;case 18:i.state=3;case 19:n.next=24;break;case 21:n.prev=21,n.t0=n["catch"](2),i.state=3;case 24:case"end":return n.stop()}}),n,null,[[2,21]])})))()},adclick:function(t){this.adclicked++,console.log(this.adclicked),this.taskid=1,this.interNum=0,this.startSetInter(),uni.report("adclick",this.uid)},startSetInter:function(){var t=this;t.setInter=setInterval((function(){t.interNum>60&&clearInterval(t.setInter),t.interNum++}),1e3)},playtask:function(){var t=this;clearInterval(t.setInter),0!=t.taskid&&0!=t.interNum&&(1==t.taskid?(t.interNum>6?(uni.showToast({title:"已解锁自动加载",icon:"none"}),t.reach_bottom_autoload=!0,t.rewardAdIsLoad=!1,r.default.prototype.reach_bottom_autoload=!0,t.taskid=0,t.interNum=0,t.show_tips_next_box=0,t.loadnext()):(uni.showToast({title:"自动加载解锁失败",icon:"none"}),t.loadnext()),uni.report("adclickreturn",{uid:t.uid,time:t.interNum})):(uni.showToast({title:"感谢您的支持",icon:"none"}),uni.report("adclicked",{uid:t.uid,time:t.interNum})))}},computed:{autoload_tips:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.autoload_tips:null},custom_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_custom:null},banner_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_banner:null},tips_custom_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_tips_custom:null},tips_banner_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_tips_banner:null},video_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_video:null},screen_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_screen:null},reward_adid:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_reward:null},video_adlt:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_video_adlt:10},video_adlm:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_video_adlm:0},banner_adlt:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_banner_adlt:10},banner_adlm:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_banner_adlm:3},custom_adlt:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_custom_adlt:10},custom_adlm:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_custom_adlm:6},force_reward:function(){return r.default.prototype.appconfig?r.default.prototype.appconfig.info_force_reward:null},viewAdBgColor:function(){return"bg-black"==this.backgroundcolor||"bg-dark"==this.backgroundcolor||"bg-grey"==this.backgroundcolor||"bg-brown"==this.backgroundcolor?"black":"white"},bgColor:function(){return this.backgroundcolor+" "+this.textcolor+" "+this.fontsize}},onLoad:function(t){var e=this;return(0,o.default)(regeneratorRuntime.mark((function a(){var n,i,o,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.url,i=t.drive,o=t.menu,u=t.menutitle,s.default.setNavigationBarColor(),a.next=4,s.default.ConnectApi();case 4:return e.url=n,e.drive=i,e.state=1,o&&(e.menu=o,e.showMenu()),u&&(e.menutitle=u),r.default.prototype.appconfig.info_screen_adlt&&(e.screen_adlt=r.default.prototype.appconfig.info_screen_adlt),r.default.prototype.appconfig.info_screen_adlm&&(e.screen_adlm=r.default.prototype.appconfig.info_screen_adlm),a.next=13,e.fetch(n,e.drive);case 13:""==r.default.prototype.jumpappid&&""==r.default.prototype.bookjumpappid&&""==r.default.prototype.jumpwebpage||(e.isjumpread=!0),o&&u&&e.drive&&s.default.NewCataLog(o,u,"/pages/catalog?drive="+e.drive+"&url="+o,e.drive);case 15:case"end":return a.stop()}}),a)})))()},onShow:function(){this.playtask()},onShareAppMessage:function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url+"&uid="+r.default.prototype.uid}},onReachBottom:function(){if(this.reach_bottom_autoload){if(this.state=1,this.next){var t=this;this.fetch(this.next.url,this.drive),t.next=[]}else this.state=2;console.log("到底了")}},onPullDownRefresh:function(){this.chapters=[],this.fetch(this.url,this.drive),uni.stopPullDownRefresh()}},"onShareAppMessage",(function(t){return{title:this.title,path:"/pages/book?drive="+this.drive+"&url="+this.url,success:function(t){console.log(t)},fail:function(t){console.log(t)}}}));e.default=u},"522c":function(t,e,a){var n=a("b275");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("80746b14",n,!0,{sourceMap:!1,shadowMode:!1})},b275:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".page[data-v-9edd5866]{min-height:100vh;overflow-x:hidden}.chapter[data-v-9edd5866]{min-height:80vh}.mvwin[data-v-9edd5866]{position:fixed;top:-200px;left:0;bottom:inherit;right:inherit}",""]),t.exports=e},c33d:function(t,e,a){"use strict";a.r(e);var n=a("51f1"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},d6c2:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{class:[t.backgroundcolor,t.textcolor,t.fontsize]},[a("cu-custom",{attrs:{bgColor:t.bgColor,isBack:!0}},[a("template",{attrs:{slot:"backText"},slot:"backText"},[t._v("返回")]),a("template",{attrs:{slot:"content"},slot:"content"}),a("template",{attrs:{slot:"right"},slot:"right"},[t.menu&&t.showmenubtn?a("v-uni-view",{attrs:{"data-url":"/pages/catalog?url="+t.menu+"&drive="+t.drive},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoMenu.apply(void 0,arguments)}}},[t._v("目录"),a("v-uni-text",{staticClass:"cuIcon-list"})],1):t._e()],1)],2),a("v-uni-view",{staticClass:"page"},[t.isjumpread?t._e():a("v-uni-view",[t.advert_txt?a("v-uni-view",{staticClass:"text-right padding"},[a("v-uni-button",{staticClass:"cu-btn bg-orange",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.gotoAdvert.apply(void 0,arguments)}}},[t._v(t._s(t.advert_txt))])],1):t._e(),t._l(t.chapters,(function(e,n){return a("v-uni-view",{key:n},[e.source_url?a("v-uni-view",{staticClass:"text-text padding-lr"},[a("v-uni-text",{attrs:{"data-val":e.source_url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setcp.apply(void 0,arguments)}}},[t._v("原网页已转码")])],1):t._e(),a("v-uni-view",{staticClass:"padding-lr padding-top padding-bottom-xs text-bold"},[t._v(t._s(e.title))]),a("v-uni-view",{staticClass:"chapter"},t._l(e.contents,(function(e,n){return a("v-uni-view",{key:n,staticClass:"padding-lr padding-top-xs padding-bottom-xs",staticStyle:{"text-indent":"2em"}},[t._v(t._s(e))])})),1),e.source_url?a("v-uni-view",{staticClass:"text-right padding-lr solid-bottom"},[a("v-uni-text",{attrs:{"data-val":e.source_url},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setcp.apply(void 0,arguments)}}},[t._v("原网页")])],1):t._e()],1)})),t.reach_bottom_autoload||!t.rewardAdIsLoad?a("v-uni-view",{staticClass:"padding-sm"},[1==t.state?a("v-uni-view",{staticClass:"cu-load loading"}):t._e(),2==t.state?a("v-uni-view",{staticClass:"text-center"},[t._v("到底了")]):t._e(),3==t.state?a("v-uni-view",{staticClass:"text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reloaddata()}}},[t._v("重新加载")]):t._e(),0==t.state&&t.show_tips_next?a("v-uni-view",{staticClass:"text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showTipsNext()}}},[t._v("加载更多")]):t._e(),0!=t.state||t.show_tips_next?t._e():a("v-uni-view",{staticClass:"text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore()}}},[t._v("加载更多")])],1):t._e(),!t.reach_bottom_autoload&&t.rewardAdIsLoad?a("v-uni-view",{staticClass:"padding-sm"},[1==t.state?a("v-uni-view",{staticClass:"cu-load loading"}):t._e(),2==t.state?a("v-uni-view",{staticClass:"text-center"},[t._v("到底了")]):t._e(),3==t.state?a("v-uni-view",{staticClass:"text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reloaddata()}}},[t._v("重新加载")]):t._e(),0==t.state&&t.show_tips_next?a("v-uni-view",{staticClass:"text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showTipsNext()}}},[t._v("加载更多")]):t._e(),0!=t.state||t.show_tips_next?t._e():a("v-uni-view",{staticClass:"text-center",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore()}}},[t._v("加载更多")])],1):t._e()],2),t.isjumpread?a("v-uni-view",[t.chapters&&t.chapters[0]?a("v-uni-view",[a("v-uni-view",{staticClass:"padding-lr padding-top padding-bottom-xs text-bold"},[t._v(t._s(t.chapters[0].title))]),a("v-uni-view",{staticClass:"padding"},[t._v("受平台规则限制和版权方要求，暂不支持在本页面阅读相关内容，请点击下方按钮进行阅读 ↓↓↓↓↓↓↓↓↓")]),a("v-uni-view",{staticClass:"padding-xl flex flex-direction"},[a("v-uni-button",{staticClass:"cu-btn bg-green lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpRead.apply(void 0,arguments)}}},[t._v("立即阅读")])],1)],1):t._e()],1):t._e()],1),t.reach_bottom_autoload?t._e():a("v-uni-view",{staticClass:"cu-modal",class:t.show_tips_next_box?"show":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideTipsBox.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"cu-dialog text-left",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("v-uni-view",{class:[t.backgroundcolor,t.textcolor,t.fontsize]},[a("v-uni-view",{staticClass:"cu-bar justify-end"},[a("v-uni-view",{staticClass:"content"},[t._v("提醒")]),a("v-uni-view",{staticClass:"action",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hideTipsBox.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),a("v-uni-view",{staticClass:"padding"},[a("v-uni-view",[t._v(t._s(t.autoload_tips?t.autoload_tips:"观看视频6~15秒，解锁自动加载功能"))])],1),a("v-uni-view",{staticClass:"padding-xs flex flex-direction"},[t.rewardAdIsLoad?a("v-uni-button",{staticClass:"cu-btn line-green lg",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showReward.apply(void 0,arguments)}}},[a("v-uni-text",{staticClass:"cuIcon-playfill"}),t._v("开启自动加载")],1):t._e(),t.rewardAdIsLoad?t._e():a("v-uni-button",{staticClass:"cu-btn line-green lg",attrs:{disabled:"disabled"}},[a("v-uni-text",{staticClass:"cuIcon-playfill"}),t._v("开启自动加载")],1),a("v-uni-button",{staticClass:"cu-btn line-gray lg margin-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadmore.apply(void 0,arguments)}}},[t._v("暂时手动加载")])],1)],1)],1)],1),!t.reach_bottom_autoload&&t.force_reward?a("v-uni-view",{staticClass:"cu-modal",class:t.show_tips_next_box?"":"mvwin"},[a("v-uni-view",{staticClass:"cu-dialog text-left"},[a("v-uni-view",{class:[t.backgroundcolor,t.textcolor,t.fontsize]},[a("v-uni-view",{staticClass:"cu-bar justify-end"},[a("v-uni-view",{staticClass:"content"},[t._v("提醒")]),a("v-uni-view",{staticClass:"action"},[a("v-uni-text",{staticClass:"cuIcon-close text-red"})],1)],1),a("v-uni-view",{staticClass:"margin-top-xs"},[t.tips_banner_adid?a("bannertap",{attrs:{adunitid:t.tips_banner_adid},on:{adclick:function(e){arguments[0]=e=t.$handleEvent(e),t.adclick.apply(void 0,arguments)}}}):t._e(),t.tips_custom_adid&&!t.tips_banner_adid?a("customtap",{attrs:{adunitid:t.tips_custom_adid},on:{adclick:function(e){arguments[0]=e=t.$handleEvent(e),t.adclick.apply(void 0,arguments)}}}):t._e()],1),a("v-uni-view",{staticClass:"padding"},[a("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.showReward.apply(void 0,arguments)}}},[t._v(t._s(t.autoload_tips?t.autoload_tips:"观看视频6~15秒，解锁自动加载功能"))])],1)],1)],1)],1):t._e(),t.isIpx?a("v-uni-view",{staticClass:"cu-tabbar-height"}):t._e()],1)},o=[]},f8bf:function(t,e,a){"use strict";var n=a("522c"),i=a.n(n);i.a}}]);